# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç - Counterparty Verification System

## ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É—Å–ø—ñ—à–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞: **http://127.0.0.1:5000**

---

## üìã –î–æ—Å—Ç—É–ø–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏:

### 1. **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞** (–û—Å–Ω–æ–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
üîó http://127.0.0.1:5000/

3-–∫–æ–ª–æ–Ω–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ñ–≤:
- –õ—ñ–≤–∞ –∫–æ–ª–æ–Ω–∫–∞: –î–∞–Ω—ñ –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó
- –°–µ—Ä–µ–¥–Ω—è –∫–æ–ª–æ–Ω–∫–∞: –î–∞–Ω—ñ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞  
- –ü—Ä–∞–≤–∞ –∫–æ–ª–æ–Ω–∫–∞: –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

### 2. **–¢–µ—Å—Ç–æ–≤–∞ —Ñ–æ—Ä–º–∞** (–î–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è)
üîó http://127.0.0.1:5000/test

–ü—Ä–æ—Å—Ç–∞ —Ç–µ—Å—Ç–æ–≤–∞ —Ñ–æ—Ä–º–∞ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API.

### 3. **–Ü—Å—Ç–æ—Ä—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫**
üîó http://127.0.0.1:5000/history

–ü–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó.

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: http://127.0.0.1:5000/test
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Run Verification"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç
```bash
python test_system.py
```

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å:
- ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
- ‚úÖ VIES —Å–µ—Ä–≤—ñ—Å
- ‚úÖ Sanctions —Å–µ—Ä–≤—ñ—Å
- ‚úÖ Handelsregister —Å–µ—Ä–≤—ñ—Å
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

---

## üîç –Ø–∫—â–æ —î –ø—Ä–æ–±–ª–µ–º–∞ 400 (Bad Request):

### –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É —Ñ–æ—Ä–º—É: http://127.0.0.1:5000/test
2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Run Verification"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –ø–æ–º–∏–ª–∫–∏
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª Flask –Ω–∞ –ª–æ–≥–∏

### –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:
- ‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è (VAT, company name, counterparty name, country)
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∏ –∑ CORS (—è–∫—â–æ –∑–∞–ø–∏—Ç –∑ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É)

### –†—ñ—à–µ–Ω–Ω—è:
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ:

**–î–ª—è –∫–æ–º–ø–∞–Ω—ñ—ó:**
- ‚úîÔ∏è VAT –Ω–æ–º–µ—Ä
- ‚úîÔ∏è –ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó
- ‚úîÔ∏è –Æ—Ä–∏–¥–∏—á–Ω–∞ –∞–¥—Ä–µ—Å–∞

**–î–ª—è –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞:**
- ‚úîÔ∏è –ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó
- ‚úîÔ∏è –ö—Ä–∞—ó–Ω–∞

---

## üìä –ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É:

```javascript
const formData = new FormData();

// Company data
formData.append('company_vat', 'DE123456789');
formData.append('company_name', 'Test Company GmbH');
formData.append('company_address', 'Test Street 1, Berlin');
formData.append('company_email', 'test@example.com');
formData.append('company_phone', '+49 30 12345678');

// Counterparty data
formData.append('counterparty_name', 'Sample AG');
formData.append('counterparty_country', 'DE');
formData.append('counterparty_vat', 'DE987654321');
formData.append('counterparty_address', 'Sample Street, Munich');
formData.append('counterparty_email', 'contact@sample.com');
formData.append('counterparty_domain', 'sample.com');

fetch('http://127.0.0.1:5000/verify', {
    method: 'POST',
    body: formData
})
.then(response => response.json())
.then(data => console.log(data));
```

---

## üõ†Ô∏è –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
# –ó—É–ø–∏–Ω–∏—Ç–∏: CTRL+C
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–Ω–æ–≤—É:
python app.py
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ë–î:
```python
python -c "from app import create_app; from crm.models import db, Company; app = create_app(); app.app_context().push(); print(f'Companies: {Company.query.count()}')"
```

### –û—á–∏—Å—Ç–∏—Ç–∏ –ë–î:
```python
python -c "from app import create_app; from crm.models import db; app = create_app(); app.app_context().push(); db.drop_all(); db.create_all(); print('Database reset')"
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤:
```bash
python test_system.py
```

---

## üìù –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤:

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `.env` –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö API –∫–ª—é—á—ñ–≤:

```env
# VIES (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π, –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –∫–ª—é—á–∞)
VIES_API_KEY=

# Handelsregister
HANDELSREGISTER_API_KEY=your_key_here

# OpenCorporates
OPENCORPORATES_API_KEY=your_key_here

# Sanctions API
SANCTIONS_API_KEY=your_key_here

# Telegram (–¥–ª—è –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π)
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Email (–¥–ª—è –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π)
SMTP_SERVER=smtp.gmail.com
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
```

---

## üéâ –í—Å–µ –≥–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ —ñ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

–î–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –¥–∏–≤—ñ—Ç—å—Å—è:
- `README.md` - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- `.github/copilot-instructions.md` - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è AI –∞–≥–µ–Ω—Ç—ñ–≤
- `test_system.py` - –ü—Ä–∏–∫–ª–∞–¥–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

**–ü—Ä–∏—î–º–Ω–æ—ó —Ä–æ–±–æ—Ç–∏! üöÄ**